<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11_jumin</title>
</head>

<body>
    <h1>11_jumin</h1>
    <script>
        // 11_jumin.html  주민번호를 이용하여 성별, 국적, 생년월일을 출력하세요
        /*
        주민번호 뒤 첫째자리
           1. 1900 년대 내국인 남성
           2. 1900 년대 내국인 여성
           ########################
           3. 2000 년대 내국인 남성
           4. 2000 년대 내국인 여성
           ########################
           -----------------------------------------------------
           5. 1900 년대 외국인 남성
           6. 1900 년대 외국인 여성
           ########################
           7. 2000 년대 외국인 남성
           8. 2000 년대 외국인 여성
        
        */

        let tt = "020826-2XXXXXX"
        //        01234567890123


        if (tt[7] % 2 !== 0) {
            document.write(`남자입니다.<br>`)
            if (tt[7] == '5' | tt[7] == '7') {
                document.write('외국인입니다.<br>')
            }
            else {
                document.write(`내국인입니다.<br>`)
            }

        }
        else if (tt[7] % 2 == 0) {
            document.write(`여자입니다.<br>`)
            if (tt[7] == '6' | tt[7] == '8') {
                document.write('외국인입니다.<br>')
            }
            else {
                document.write(`내국인입니다.<br>`)
            }
        }

        if (tt[7] == '1' | tt[7] == '2' | tt[7] == '5' | tt[7] == '6') {
            document.write(`1900년대생입니다.`)
            0 < Number(tt.slice(0, 2)) <= 99
        }

        else if (tt[7] == '3' | tt[7] == '4' | tt[7] == '7' | tt[7] == '8') {
            document.write(`2000년대생입니다.`)
        }


        /*
    1. 기획 -  주민번호를 이용하여 성별, 국적, 생년월일을 출력하세요
    2. 요구사항 
        1) 주민번호 뒤의 첫자리를 찾아온다
        2) 그 숫자가 1,3,5,7/ 2,4,6,8 로 구분한다.
        3)            짝수 홀수 확인
        4)          남자      여자

    3. 설계
        1) 변수 - 주민번호뒷자리 
        2) 제어문으로 확인 - 2로 나눈 나머지 
        3) 출력 - 문자열
    4. 구현
         검증 - 디버깅, 화면출력
*/
        let jumin = '970320-8234567' // jumin이라는 변수에 "문자열 000000-0000000"을 담음
        let pos = eval(jumin[7]) // pos라는 변수에 eval : 문자열을 숫자로 만들어줌과 동시에 수식을 할 수 있게 해준다. jumin에 7번째 인덱스인 "문자열 000000-'0'000000"을 가져와 문자열 -> 숫자
        console.log('여남'[pos % 2] + '자') // '여남'이라는 문자열에 jumin[7] % 2를 하면 (1)
        console.log('내외'[parseInt(pos / 5)] + '국인') // '내외'라는 문자열에 jumin[7] / 5를 하면 (2)
        let title = '년월일'

        /* (1)
        pos
        1   2   3   4   5   6   7   8 / 1,3,5,7이면 1이 나오니까 '남'만 출력하게끔하고, 2,4,6,8은 0이 나오니까 0번째에 있는 '여'를 출력하게 끔하는것.
        1   0   1   0   1   0   1   0 /

            (2)
        1   2   3   4   5   6   7   8 / 
        0   0   0   0   1   1   1   1

        */


        /*
        
                -1      %4  /2  +19
        19  1    0      0   0   19
        19  2    1      1   0
        --------------------------------------------------
        20  3    2      2   1   20
        20  4    3      3   1
        -------------------------------------------
        19  5    4      0
        19  6    5      1
        20  7    6      2
        20  8    7      3
        
        */
        let birth = parseInt((pos - 1) % 4 / 2) + 19 + ''
        for (let i = 0; i < title.length; i++) {
            birth += jumin.substr(i * 2, 2) + title[i]
        }

        /*
        i = 0 ~ 2 
        birth = birth + jumin.substr(0,2) => 연도 건들겠다는 것임 + title[0](='년')
        birth = birth + jumin.substr(2,2) => 연도 건들겠다는 것임 + title[1](='월')
        birth = birth + jumin.substr(4,2) => 연도 건들겠다는 것임 + title[2](='일')
        birth = 19 + 02 + 년 => 1902년
        birth = 1902년 + 08 + 월 => 1902년 08월 
        birth = 1902년 08월 + 26 + 일 => 1902년 08월 26일
        
        */
        console.log(birth)


    </script>
</body>

</html>