<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04_teamplay</title>
</head>

<body>
    <h1>04_teamplay</h1>
    <script>
        const studs = [
        [1, "여", "정서연", 97, 90, 92],
        [1, "여", "김도윤", 54, 80, 76],
        [3, "남", "정지우", 90, 11, 50],
        [3, "여", "박예준", 82, 88, 68],
        [4, "남", "박서연", 14, 56, 98],
        [3, "남", "최민준", 52, 61, 85],
        [4, "여", "박서연", 15, 18, 42],
        [2, "남", "이민준", 90, 97, 98],
        [3, "남", "최민준", 51, 81, 64],
        [2, "남", "이민준", 86, 40, 90],
        [4, "여", "최도윤", 99, 90, 16],
        [4, "여", "김도윤", 93, 17, 98],
        [1, "남", "최민준", 14, 58, 54],
        [2, "여", "박도윤", 57, 16, 13],
        [1, "여", "김예린", 90, 97, 21],
        [1, "여", "최하윤", 61, 69, 82],
        [1, "남", "이지우", 96, 31, 35],
        [4, "여", "정서연", 97, 27, 35],
        [2, "여", "김도윤", 54, 80, 76],
        [2, "남", "정지우", 90, 11, 50],
        [2, "여", "박예준", 82, 88, 68],
        [4, "남", "박서연", 14, 56, 98],
        [3, "여", "최민준", 52, 61, 85],
        [4, "여", "박서연", 15, 18, 42],
        [3, "여", "이민준", 90, 97, 98],
        [1, "남", "최민준", 51, 81, 64],
        [3, "남", "이민준", 86, 40, 90],
        [4, "남", "최도윤", 99, 90, 16],
        [3, "남", "김도윤", 93, 17, 98],
        [2, "남", "최민준", 14, 58, 54],
        [2, "여", "박도윤", 57, 16, 13],
        [2, "여", "김예린", 90, 97, 21],
        [2, "남", "최하윤", 61, 69, 82],
        [1, "여", "이지우", 96, 31, 35],
        [4, "여", "정서연", 97, 27, 35],
        [2, "여", "김도윤", 54, 80, 76],
        [3, "남", "정지우", 90, 11, 50],
        [1, "여", "박예준", 82, 88, 68],
        [4, "남", "박서연", 99, 56, 98],
        [3, "남", "최민준", 52, 61, 85],
        [1, "여", "박서연", 15, 18, 42],
        [3, "남", "이민준", 90, 97, 98],
        [2, "남", "최민준", 51, 81, 64],
        [3, "남", "이민준", 86, 70, 90],
        [4, "여", "최도윤", 99, 90, 16],
        [4, "여", "김도윤", 93, 17, 98],
        [2, "남", "최민준", 14, 58, 54],
        [2, "남", "박도윤", 57, 16, 13],
        [1, "여", "김예린", 90, 97, 21],
        [2, "남", "최하윤", 61, 69, 82],
        [1, "남", "이지우", 96, 99, 35],
      ];

        for (let i in studs) {
            let tot = 0;
            let score = studs[i].slice(3)
            for (let j of studs[i].slice(3)) {
                tot += j;
            }
            studs[i].push(tot);
            studs[i].push((((tot / 3) * 100) | 0) / 100);
        }

        for(let i in studs){
            let grade = 0;
            const a = studs[i][7]

                if(a >= 90){
                    grade = '수'
                }
                else if(a >= 80){
                    grade = '우'
                }

                else if(a >= 70){
                    grade = '미'
                }

                else if(a >= 60){
                    grade = '양'
                }

                else{
                    grade = '가'
                }

                studs[i].push(grade)
            }

            for (let my_rank in studs) {
            let rank = 1;
            const my_gender = studs[my_rank][1]

            for (let your_rank in studs) {
                const your_gender = studs[your_rank][1]
                if (my_gender == your_gender && studs[my_rank][7] < studs[your_rank][7]) {
                    rank++
                }
            }
            studs[my_rank].push(rank)
        }


        console.log(studs)
    </script>
</body>

</html>