<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03_DOM</title>
    <style>
        #cons {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
        }
    </style>
    <script>
        function conLog(msg) {
            // getElementById - ì•„ì´ë””ê°€ consì¸ ìš”ì†Œë¥¼ ê°€ì ¸ì˜´.
            let cons = document.getElementById("cons")

            // innerHTML - í…ìŠ¤íŠ¸ë…¸ë“œ(ê¸€ìë‚´ìš©)
            cons.innerHTML += msg + "<br/>" // ì•ˆì— ì§‘ì–´ë„£ê³  <br>í•˜ê² ë‹¤.
        }

        window.onload = function () {
            conLog("ì§‘ë³´ë‚´ì¤˜")

            // documentElement - ì „ì²´ë¥¼ ë‹¤ ê°€ì ¸ì˜´(element ì—­í• ì„ í•œë‹¤.)
            // ì „ì²´(ë°°ì—´)
            let rrtt = document.documentElement
            console.log(rrtt)

            // ì „ì²´ì˜ í•˜ìœ„ ê°ì²´ - ìì‹ì„ ê°€ì ¸ì˜´(í›„ì†ì€ ì§ì ‘ ê°€ì ¸ì˜¤ì§€ ì•ŠìŒ)
            /*0: head
            1: text
            2: body 
            length: 3
            [[Prototype]]*/

            let arr = rrtt.childNodes // ì „ì²´ì˜ í•˜ìœ„ ê°ì²´ì¸ ìì‹ì„ ê°€ì ¸ì˜´. rrttëŠ” ë¬¸ì„œ documentì˜ ì „ì²´ ìš”ì†Œì—ì„œ childNodesë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜ìœ„ ê°ì²´ ìì‹ì„ arrì— ë‹´ì•˜ìŒ.
            console.log(arr)
            console.log(rrtt.childElementCount) // í•˜ìœ„ ê°¯ìˆ˜ (ì¸ë±ìŠ¤ í˜•ì‹ìœ¼ë¡œ ë‚˜ì˜´)

            // ì „ì²´ì˜ í•˜ìœ„ ê°ì²´ - ìì‹ì„ ê°€ì ¸ì˜´(í›„ì†ì€ ì§ì ‘ ê°€ì ¸ì˜¤ì§€ ì•ŠìŒ)
            let arr2 = arr[2].childNodes // ê·¸ document > body ì•ˆì— ìì‹ì„ ê°€ì ¸ì˜´.(div, span, ....)
            console.log(arr2)

            //tag ë°°ì—´
            let spans = document.getElementsByTagName("span") // íƒœê·¸ ì´ë¦„ì´ 'span'ì´ë¼ëŠ” ë†ˆì„ ì°¾ì•„ì„œ ë°°ì—´ë¡œ ë§Œë“¤ê² ë‹¤ëŠ” ì˜ë¯¸ 
            console.log(spans)
            console.log(spans[1])
            conLog(spans[1].innerHTML) // span[1]ì˜ í…ìŠ¤íŠ¸ ë…¸ë“œ
            spans[0].innerHTML = 'ìŠ¤íœì œë¡œ' // ë°”ê¾¸ê¸° ê°€ëŠ¥

            conLog(spans[0].getAttribute('zz-data')) // ì†ì„± ê°€ì ¸ì˜¤ê¸°

            spans[0].setAttribute('zz-data', 5678) // zz-data="5678" // ì†ì„± ë³€ê²½
            conLog(`hasAttribute : ${spans[0].hasAttribute('zz-data')}`) // ì†ì„± ìœ ë¬´(ì†ì„±ì„ ë³€ê²½í•œ ì‹œì ì—ì„œëŠ” ìˆë‹¤ê³ (true)ë‚˜ì˜´)
            spans[2].setAttribute('zz-data', 5454) // zz-data="5454" // ì†ì„± ë³€ê²½
            spans[0].removeAttribute('zz-data') // zz-dataë¥¼ ì‚­ì œ // ì†ì„± ì‚­ì œ
            conLog(`hasAttribute : ${spans[0].hasAttribute('zz-data')}`) // ì†ì„± ìœ ë¬´(ì†ì„±ì„ ì‚­ì œí•œ ì‹œì ì—ì„œëŠ” ì—†ë‹¤ê³ (false)ë‚˜ì˜´)
            spans[0].className = "ddd"
            spans[0].className = "eee" // classë¥¼ í†µì§¸ë¡œ ë°”ê¿”ì¤Œ
            spans[0].removeAttribute('class') // class ì œê±°. classë„ ì†ì„±ì„
            spans[0].setAttribute('class','jjj')
            spans[0].classList.add('mmm') // class ì†ì„±ê°’ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ
            spans[0].classList.add('ooo') // class ì†ì„±ê°’ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ
            spans[0].classList.add('mmm') // ì´ë¯¸ ì¡´ì¬í•˜ëŠ” class ëª…ì€ ì¤‘ì²© ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.
            conLog(`mmm ìœ ë¬´: ${spans[0].classList.contains('mmm')}`) // ìœ ë¬´í™•ì¸(true)
            conLog(`wer ìœ ë¬´: ${spans[0].classList.contains('wer')}`)

            spans[0].classList.remove('mmm') // class ì†ì„±ê°’ ì œê±°
            conLog(`mmm ìœ ë¬´: ${spans[0].classList.contains('mmm')}`) // ìœ ë¬´í™•ì¸(false)
            spans[0].classList.toggle('sss') // í† ê¸€ - ì—†ìœ¼ë©´ ì¶”ê°€
            spans[0].classList.toggle('sss') // í† ê¸€ - ìˆìœ¼ë©´ ì‚­ì œ

            spans[1].style.color = "#f00" // styleë¡œ css ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥

            // class ë°°ì—´
            let bbbs = document.getElementsByClassName("bbb") // bbbë¼ëŠ” í´ë˜ìŠ¤ëª…ì„ ë¶ˆëŸ¬ì™€ì„œ ë°°ì—´ë¡œ ë§Œë“¤ê² ë‹¤ëŠ” ì˜ë¯¸
            console.log(bbbs)

            bbbs[1].style.border = "1px solid #0f0"
            bbbs[2].setAttribute("id", "b2") // "ì†ì„±", "ì†ì„±ê°’"

            // id - ìµœì´ˆ 1ê°œë§Œ ê°€ì§€ê³  ì˜´
            let b0 = document.getElementById("b0")
            conLog(b0.innerHTML)

            // id - ìµœì´ˆ 1ê°œë§Œ ê°€ì§€ê³  ì˜´
            let q1 = document.getElementById("q1")
            conLog(q1.innerHTML)

            let b2 = document.getElementById("b2")
            conLog(b2.innerHTML)

            // ì†ì„±
            let q2 = document.getElementById("q2")
            q2.removeAttribute("id") // ì†ì„± ì‚­ì œ
            q2.setAttribute("id", "qq33") // ì†ì„± ë³€ê²½


            // ìš”ì†Œìƒì„± ë° ì¶”ê°€
            // ìƒì„±
            let nnItem = document.createElement("div")
            nnItem.innerHTML = "ìƒˆë¡œìš´ div" // <>ìƒˆë¡œìš´ div<>
            nnItem.className = "ccc" // class="ccc" // í´ë˜ìŠ¤ ë³€ê²½
            console.log(nnItem)
            bbbs[2].appendChild(nnItem) // ìì‹ìœ¼ë¡œ ì¶”ê°€ë¥¼ í•˜ëŠ”ë° í•˜ìœ„ìš”ì†Œ ì¤‘ ë§¨ ì•(pushì™€ ìœ ì‚¬)

            //ìì‹ ì„ ì‚­ì œ
            bbbs[3].remove() // í•´ë‹¹ ê°œì²´ê°€ ì‚¬ë¼ì§
            // q2.removeChild(div)
            let q2Child = q2.childNodes
            console.log(q2Child)

            q2.removeChild(q2Child[1]) // ë‚´êº¼ ì•ˆì— ìˆëŠ” ìì‹ì„ ì‚­ì œì‹œí‚´.

            // box ë¡œ ì‘ì„±ëœ div ì‚­ì œ
            let divs = document.getElementsByTagName("div")
            for (let i = divs.length - 1; i >= 0; i--) {
                let dd = divs[i]
                if (dd.innerHTML.startsWith("box")) {
                    console.log(dd)
                    dd.remove()
                }
            }

            let qq33Par = q2.parentNode // ë¶€ëª¨ ë…¸ë“œ (<-> childNodesì™€ ë°˜ëŒ€ê°œë…)
            console.log("qq33Par : ", qq33Par)
            conLog(qq33Par.getAttribute("zz-data")) // q2ì˜ ë¶€ëª¨ ë…¸ë“œì¸ <div zz-data="ë¶€ëª¨"></div>ë¥¼ í•¨ìˆ˜ì— í˜¸ì¶œ

            let bro1 = q2.previousElementSibling // í˜•ì´ë‚˜ ëˆ„ë‚˜ ë…¸ë“œ(q2 ë°”ë¡œ ì•ì— ìˆëŠ” q1ì„ ê°€ì ¸ì˜´.)
            console.log(bro1)
            
            let bro2 = bro1.nextElementSibling // ë’¤ì— ìˆëŠ” ë™ìƒ ë…¸ë“œ(q1 ë°”ë¡œ ë’¤ì— ìˆëŠ” q2ë¥¼ ê°€ì ¸ì˜´)
            console.log(bro2)

            let aaa = document.getElementsByClassName("aaa")[0] // ì™œ [0]ì„ ë¶™ì˜€ì„ê¹Œ?
            console.log(aaa)

            let rrr = document.createElement("div") // ì•ˆì— íƒœê·¸ë¥¼ ë„£ê¸°(forë¬¸ì´ ìì£¼ ì“°ì¼ ê²ƒ ê°™ìŒ)
            rrr.innerHTML="rrr"
            aaa.prepend(rrr) // ìì‹ìœ¼ë¡œ ì¶”ê°€ë¥¼ í•˜ëŠ”ë° í•˜ìœ„ìš”ì†Œ ì¤‘ ë§¨ ì•(unshiftì™€ ìœ ì‚¬) <-- appendëŠ” ë§¨ ë’¤ì— ì¶”ê°€
            
            let fff = document.createElement("div") // ì•ˆì— íƒœê·¸ë¥¼ ë„£ê¸°(forë¬¸ì´ ìì£¼ ì“°ì¼ ê²ƒ ê°™ìŒ)
            fff.innerHTML="fff"
            aaa.insertBefore(fff, q1) // fffê°€ q1 ì•ì— ì˜´. ìì‹ìœ¼ë¡œ ì¶”ê°€ë¥¼ í•˜ëŠ”ë° í•˜ìœ„ìš”ì†Œ ì¤‘ q1 ì•(ì¤‘ê°„ì‚½ì…)
            
            
            aaa.insertBefore(rrr, q1) // ì´ë¯¸ ì¶”ê°€ëœ ìš”ì†Œë¥¼ ë‹¤ì‹œ ì¶”ê°€í•  ê²½ìš° -> ì´ë™(ìœ„ì¹˜ ë³€ê²½ë¿ì„)

            let ggg = document.createElement("div") // ì•ˆì— íƒœê·¸ë¥¼ ë„£ê¸°(forë¬¸ì´ ìì£¼ ì“°ì¼ ê²ƒ ê°™ìŒ)
            ggg.innerHTML="ggg"
            aaa.insertBefore(ggg, null) // ìì‹ìœ¼ë¡œ ì¶”ê°€ë¥¼ í•˜ëŠ”ë° ì°¸ì¡°ìš”ì†Œê°€ nullì¼ ê²½ìš° ë§¨ ë’¤ì— ì¶”ê°€(== append)

            let qsb2 = document.querySelector("#b2") // style ì„ íƒì ì‚¬ìš© #ì€ css ê¸°ì¤€ id ì„ íƒì ì˜€ìŒ.
            console.log(qsb2)

            let qs = document.querySelector(".aaa > div:nth-of-type(3)") // querySelector <- ğŸ”¥ğŸ”¥ğŸ”¥
            console.log(qs.innerHTML)
            
            qs = document.querySelector(".bbb") // í•´ë‹¹ ê°ì²´ê°€ ì—¬ëŸ¬ ê°œì¸ ê²½ìš° ìµœì´ˆ 1ê°œë§Œ ë¦¬í„´(ë‹¤ë¥¸ ê²ƒì€ ë°°ì—´í˜•íƒœë¡œ ë˜ì–´ì„œ [0~i]ë˜ì§€ë§Œ quertSelectorëŠ” ìµœì´ˆ 1ê°œë§Œ ê°€ì ¸ì˜´)
            console.log(qs)

            let qsArr = document.querySelectorAll(".bbb") // í•´ë‹¹ ê°ì²´ê°€ ì—¬ëŸ¬ ê°œì¸ ê²½ìš° ë°°ì—´ë¡œ ê°€ì ¸ì˜´(ê¸°ë³¸ê³¼ Allì˜ ì°¨ì´)
            console.log(qsArr)

            qsArr = document.querySelectorAll("#b2") // b2ê°€ í•œ ê°œì„ì—ë„ Allì„ ì‚¬ìš©í•˜ë©´ ë°°ì—´ë¡œ ë¦¬í„´
            console.log(qsArr)
            
            qsArr = document.querySelectorAll("#q1") // ê°™ì€ idê°€ ì—¬ëŸ¬ ê°œì¸ ê²½ìš° ë°°ì—´ë¡œ ê°€ëŠ¥
            console.log(qsArr)
        }


    </script>
</head>

<body>
    <h1>03_DOM</h1>
    <div class="aaa"> <!--div(aaa) ì•ˆì— ì„¸ë¶€ divì™€ spanì„ ë„£ì—ˆìŒ-->
        aaa0
        <div class="bbb" id="b0">bbb0</div>
        <div qwer="11" id="q1">qwer11</div>
        <div qwer="11" id="q1" class="bbb">qwer22 bbb1</div>
        <span zz-data="1234">span0</span>
        <span>span1</span>
    </div>

    <div zz-data="ë¶€ëª¨"> <!--div(aaa) ì•ˆì— ì„¸ë¶€ divì™€ spanì„ ë„£ì—ˆìŒ-->
        aaa0
        <div class="bbb">bbb2</div>
        <div>box1</div>
        <div>box2</div>
        <div>box3</div>
        <div qwer="33" id="q1">qwer33</div>
        <div qwer="44" id="q2">qwer44
            <div zz-data="ìì‹">ìì‹ìì‹</div>
        </div>
        <span class="bbb">span2</span>
    </div>

    <div id="cons">ciytedkj</div>
</body>

</html>